<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
</head>
<style>
  .margin {
    margin: 2rem;
  }
  .inputData input{
     width: 100%;
     border-radius: 10px;
     padding-left: 10px;
  }
  .row{
    margin: auto;
   
  }
</style>

<body >
  <div class="container  py-5 bg-dar">
    <div class="main-heading text-center pb-5 text-decoration-underline">
      <div class="h1 ">CRUD OPERATION</div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4 col-12">
        <div class="inputData p-4 border border-danger border-5 rounded-3 bg-dark ">
          <!-- HTML code for the input fields and buttons -->
          <form onsubmit="event.preventDefault();onFormSubmit();" action="">
            <label class="text-light ps-2 mb-2" for="Name">Name :</label>
            <input class type="text" id="input1" placeholder="Name"><br><br>
            <label class="text-light ps-2 mb-2" for="Name">Email :</label>
            <input type="email" id="input2" placeholder="Email"><br><br>
            <label class="text-light ps-2 mb-2" for="Name">Age :</label>
            <input type="number" id="input3" placeholder="Age"><br><br>

            <div class="form-action-buttons">
              <input type="submit" value="submit" class="btn btn-success">
            </div>
          </form>
        </div>
      </div>

      <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4 col-12 ">
        <table id="dataList" class="bg-light border border-danger border-5 mt-3 " style="overflow-x:auto;">
          <thead class="bg-danger">
            <tr class="text-light text-center">
              <th class="px-5 py-2 w-100 ">Name</th>
              <th class="px-5 py-2 w-100 ">Email</th>
              <th class="px-5 py-2 w-100 ">Age</th>
              <th class="px-5 py-2 w-100 ">Status</th>
            </tr>
          </thead>
          <tbody class="bg-dark text-center text-light border border-danger border-5  ">

          </tbody>
        </table>
      </div>
    </div>
  </div>
  
  <script>

function onFormSubmit() {
  var formData = readInputData();
  if (!formData.input1 || !formData.input2 || !formData.input3) {
    alert("Please fill in all fields.");
    return;
  }
  insertNewRecord(formData);
  resetForm();
}

function readInputData() {
  var formData = {};
  formData["input1"] = document.getElementById("input1").value;
  formData["input2"] = document.getElementById("input2").value;
  formData["input3"] = document.getElementById("input3").value;
  return formData;
}

function insertNewRecord(data) {
  var table = document.getElementById("dataList").getElementsByTagName('tbody')[0];
  var newRow = table.insertRow(table.length);
  var cell1 = newRow.insertCell(0);
  cell1.innerHTML = data["input1"];
  var cell2 = newRow.insertCell(1);
  cell2.innerHTML = data["input2"];
  var cell3 = newRow.insertCell(2);
  cell3.innerHTML = data["input3"];
  var cell4 = newRow.insertCell(3);
  cell4.innerHTML = `<a class="btn btn-success btn-sm" onclick="onEdit(this)">Edit</a>
                    <a class="btn btn-danger btn-sm" onclick="onDelete(this)">Delet</a>`
  
}

function resetForm(){
  document.getElementById("input1").value ="";
  document.getElementById("input2").value ="";
  document.getElementById("input3").value ="";
}

function onEdit(td){
  var row = td.parentElement.parentElement;
  
  var name = row.cells[0].innerHTML;
  var email = row.cells[1].innerHTML;
  var age = row.cells[2].innerHTML;

  document.getElementById("input1").value =name;
  document.getElementById("input2").value =email;
  document.getElementById("input3").value =age;
 
  row.remove();
}

function onDelete(td) {
  // Get the row that contains the button that was clicked
  var row = td.parentElement.parentElement;

  // Remove the row from the table
  row.remove();
}

function onDelete(td){
  var row = td.parentElement.parentElement;
 if(window.confirm("Confirm delet this data")) {
   row.remove();
 }
}


  </script>
</body>

</html>